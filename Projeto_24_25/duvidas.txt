quando vence ou perde, termina-se o jogo do lado do cliente?
quando dá invalid try tem de se avançar uma try no player?
documento stor

void generate_random_key(char *key) {
    const char *colors = COLOR_OPTIONS;
    srand(time(NULL));
    for (int i = 0; i < MAX_COLORS; i++) {
        key[i] = colors[rand() % strlen(colors)];
    }
    key[MAX_COLORS] = '\0';
}

int color_to_index(char color) {
    switch(color) {
        case 'R': return 0;
        case 'G': return 1;
        case 'B': return 2;
        case 'Y': return 3;
        case 'O': return 4;
        case 'P': return 5;
        default: return -1; // Invalid color
    }
}

int calculate_feedback(const char *guess, const char *secret, int *black, int *white) {
    printf("Guess: %s\n", guess);
    printf("Secret: %s\n", secret);

    int guess_count[MAX_COLORS] = {0};  // Array for counting occurrences of each color in the guess
    int secret_count[MAX_COLORS] = {0}; // Array for counting occurrences of each color in the secret

    *black = 0;
    *white = 0;

    // Count "black" pegs and populate color counts for non-matching positions
    for (int i = 0; i < MAX_COLORS; i++) {
        if (strchr(COLOR_OPTIONS, guess[i]) == NULL || strchr(COLOR_OPTIONS, secret[i]) == NULL) {
            fprintf(stderr, "Error: Invalid character in guess or secret.\n");
            return -1;
        }

        if (guess[i] == secret[i]) {
            (*black)++;
        } else {
            guess_count[color_to_index(guess[i])]++;
            secret_count[color_to_index(secret[i])]++;
        }
    }

    // Count "white" pegs (min of guess and secret counts for each color)
    for (int i = 0; i < MAX_COLORS; i++) {
        *white += (guess_count[i] < secret_count[i]) ? guess_count[i] : secret_count[i];
    }

    return 0; // Success
}